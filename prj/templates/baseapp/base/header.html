{% load static %}
<header class="header__section header__transparent">
    <!-- Start Header topbar -->
    <div class="header__topbar bg__primary">
        <div class="container-fluid">
            <div class="header__topbar--inner d-flex align-items-center justify-content-center">
                <div class="header__shipping">
                    <p class="header__shipping--text text-white">Welcome To Global Trade Solutions & Suppliers Pvt.
                        Ltd.</p>
                </div>
            </div>
        </div>
    </div>
    <!-- Start Header topbar -->

    <!-- Start main header -->
    <div class="main__header header__sticky">
        <div class="container-fluid">
            <div class="main__header--inner position__relative d-flex justify-content-between align-items-center">
                <div class="offcanvas__header--menu__open ">
                    <a class="offcanvas__header--menu__open--btn" href="{% url 'index'%}">
                        <svg xmlns="http://www.w3.org/2000/svg" class="ionicon offcanvas__header--menu__open--svg"
                            viewBox="0 0 512 512">
                            <path fill="currentColor" stroke="currentColor" stroke-linecap="round"
                                stroke-miterlimit="10" stroke-width="32" d="M80 160h352M80 256h352M80 352h352" />
                        </svg>
                        <span class="visually-hidden">Offcanvas Menu Open</span>
                    </a>
                </div>
                <div class="main__logo">
                    <h1 class="main__logo--title"><a class="main__logo--link" href="{% url 'index'%}"><img
                                class="main__logo--img" src="{{ logo_url }}" alt="logo-img"></a>
                    </h1>
                </div>
                <div class="header__menu d-none d-lg-block">
                    <nav class="header__menu--navigation">
                        <ul class="d-flex">
                            <li class="header__menu--items">
                                <a class="header__menu--link" href="{% url 'index'%}">Home</a>
                            </li>

                            <li class="header__menu--items">
                                <a class="header__menu--link" href="{% url 'about'%}">About Us</a>
                            </li>

                            <li class="header__menu--items mega__menu--items">
                                <a class="header__menu--link" href="{% url 'shop'%}">Our Products <span class="menu__plus--icon">+</span></a>
                                <ul class="header__mega--menu d-flex">
                                    {% for product in products %}
                                    <li class="header__mega--menu__li">
                                        <span class="header__mega--subtitle">{{ product.name }}</span>
                                        <ul class="header__mega--sub__menu">
                                            {% for sub_product in product.subproduct_set.all %}
                                            <li class="header__mega--sub__menu_li">
                                                <a class="header__mega--sub__menu--title" href="{% url 'shop'%}">{{ sub_product.name }}</a>
                                            </li>
                                            {% endfor %}
                                            <li class="header__mega--sub__menu_li">
                                                <a class="header__mega--sub__menu--title" href="{% url 'shop'%}">see more ..</a>
                                            </li>
                                        </ul>
                                    </li>
                                    {% endfor %}
                                </ul>
                            </li>


                            <li class="header__menu--items">
                                <a class="header__menu--link" href="{% url 'contact' %}">Contact </a>
                            </li>
                        </ul>
                    </nav>
                </div>
                <div class="header__account">
                    <ul class="d-flex">
                        {% include 'products/search_product.html' %}

                        {% if user.is_authenticated %}
                        <li class="header__account--items">
                            <a class="header__account--btn" href="{% url 'myaccount' %}">
                                <svg xmlns="http://www.w3.org/2000/svg" width="26.51" height="23.443"
                                    viewBox="0 0 512 512">
                                    <path
                                        d="M344 144c-3.92 52.87-44 96-88 96s-84.15-43.12-88-96c-4-55 35-96 88-96s92 42 88 96z"
                                        fill="none" stroke="currentColor" stroke-linecap="round"
                                        stroke-linejoin="round" stroke-width="32" />
                                    <path
                                        d="M256 304c-87 0-175.3 48-191.64 138.6C62.39 453.52 68.57 464 80 464h352c11.44 0 17.62-10.48 15.65-21.4C431.3 352 343 304 256 304z"
                                        fill="none" stroke="currentColor" stroke-miterlimit="10"
                                        stroke-width="32" />
                                </svg>

                                <span class="visually-hidden">My Account</span>
                            </a>
                        </li>
                        <li class="header__account--items">
                            <a class="header__account--btn" href="{% url 'logout' %}">
                                <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24"     height="24" fill="none" viewBox="0 0 24 24">
                                     <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 12H4m12 0-4 4m4-4-4-4m3-4h2a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-2"/>
                                </svg>
                                <span class="visually-hidden">Logout</span>
                            </a>
                        </li>
                        <li class="header__account--items d-md-none">
                            <a class="header__account--btn" href="{% url 'wishlist' %}">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24.526" height="21.82"
                                    viewBox="0 0 24.526 21.82">
                                    <path
                                        d="M12.263,21.82a1.438,1.438,0,0,1-.948-.356c-.991-.866-1.946-1.681-2.789-2.4l0,0a51.865,51.865,0,0,1-6.089-5.715A9.129,9.129,0,0,1,0,7.371,7.666,7.666,0,0,1,1.946,2.135,6.6,6.6,0,0,1,6.852,0a6.169,6.169,0,0,1,3.854,1.33,7.884,7.884,0,0,1,1.558,1.627A7.885,7.885,0,0,1,13.821,1.33,6.169,6.169,0,0,1,17.675,0,6.6,6.6,0,0,1,22.58,2.135a7.665,7.665,0,0,1,1.945,5.235,9.128,9.128,0,0,1-2.432,5.975,51.86,51.86,0,0,1-6.089,5.715c-.844.719-1.8,1.535-2.794,2.4a1.439,1.439,0,0,1-.948.356ZM6.852,1.437A5.174,5.174,0,0,0,3,3.109,6.236,6.236,0,0,0,1.437,7.371a7.681,7.681,0,0,0,2.1,5.059,51.039,51.039,0,0,0,5.915,5.539l0,0c.846.721,1.8,1.538,2.8,2.411,1-.874,1.965-1.693,2.812-2.415a51.052,51.052,0,0,0,5.914-5.538,7.682,7.682,0,0,0,2.1-5.059,6.236,6.236,0,0,0-1.565-4.262,5.174,5.174,0,0,0-3.85-1.672A4.765,4.765,0,0,0,14.7,2.467a6.971,6.971,0,0,0-1.658,1.918.907.907,0,0,1-1.558,0A6.965,6.965,0,0,0,9.826,2.467a4.765,4.765,0,0,0-2.975-1.03Zm0,0"
                                        transform="translate(0 0)" fill="currentColor" />
                                </svg>

                                <span class="items__count wishlist">{{ total_wishlist_items }}</span>
                            </a>
                        </li>
                        <li class="header__account--items">
                            <a class="header__account--btn minicart__open--btn" href="{% url 'cart' %}">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18.897" height="21.565"
                                    viewBox="0 0 18.897 21.565">
                                    <path
                                        d="M16.84,8.082V6.091a4.725,4.725,0,1,0-9.449,0v4.725a.675.675,0,0,0,1.35,0V9.432h5.4V8.082h-5.4V6.091a3.375,3.375,0,0,1,6.75,0v4.691a.675.675,0,1,0,1.35,0V9.433h3.374V21.581H4.017V9.432H6.041V8.082H2.667V21.641a1.289,1.289,0,0,0,1.289,1.29h16.32a1.289,1.289,0,0,0,1.289-1.29V8.082Z"
                                        transform="translate(-2.667 -1.366)" fill="currentColor" />
                                </svg>
                                <span class="items__count">{{ total_cart_items }}</span>
                            </a>
                        </li>
                        {% else %}
                        <li class="header__account--items">
                            <a class="header__account--btn" href="{% url 'login' %}">
                                <img width="30" height="30" src="https://img.icons8.com/ios-glyphs/30/login-rounded-right--v1.png" alt="login-rounded-right--v1"/>
                                <span class="visually-hidden">Login</span>
                            </a>
                        </li>

                        {% endif %}

                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <!-- End main header -->

</header>